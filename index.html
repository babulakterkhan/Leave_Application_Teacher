<!DOCTYPE html>
<html lang="bn">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡¶§‡ßç‡¶∞</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Bengali:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        *{margin:0;padding:0;box-sizing:border-box}
        body{min-height:100vh;background:linear-gradient(135deg,#667eea,#764ba2);padding:20px;font-family:'Noto Sans Bengali',Arial,sans-serif}
        .header{text-align:center;margin-bottom:30px;color:white}
        .header h1{font-size:32px;margin-bottom:10px;text-shadow:2px 2px 4px rgba(0,0,0,.3)}
        .header p{font-size:16px;opacity:.9}
        .container{display:flex;gap:30px;max-width:1400px;margin:0 auto;flex-wrap:wrap;justify-content:center}
        .form-card,.output-card{flex:1;min-width:350px;max-width:500px;background:white;border-radius:15px;padding:25px;box-shadow:0 10px 40px rgba(0,0,0,.2)}
        .form-card h2,.output-card h2{color:#4a5568;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #e2e8f0;font-size:20px}
        .form-group{margin-bottom:15px}
        .form-group label{display:block;margin-bottom:5px;color:#4a5568;font-weight:500}
        .form-group input,.form-group select,.form-group textarea{width:100%;padding:12px;border:2px solid #e2e8f0;border-radius:8px;font-size:16px;outline:none;transition:border-color .3s}
        .form-group input:focus,.form-group select:focus,.form-group textarea:focus{border-color:#667eea}
        .leave-duration{display:flex;gap:15px;margin-bottom:15px;padding:15px;background:#f0fff4;border-radius:10px;border:1px solid #9ae6b4}
        .leave-duration label{display:flex;align-items:center;gap:8px;cursor:pointer;padding:10px 20px;border-radius:8px;transition:all .3s;border:2px solid transparent}
        .leave-duration label:hover{background:#c6f6d5}
        .leave-duration input[type="radio"]{width:18px;height:18px;cursor:pointer}
        .leave-duration input[type="radio"]:checked+span{font-weight:600;color:#667eea}
        .leave-duration label:has(input:checked){background:#e8eaff;border-color:#667eea}
        .date-group{display:flex;gap:10px}
        .date-group .form-group{flex:1}
        .single-date{max-width:50%}
        .btn-group{display:flex;gap:10px;margin-top:20px}
        .btn-primary{flex:1;padding:14px;background:linear-gradient(135deg,#667eea,#764ba2);color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}
        .btn-primary:hover{transform:translateY(-2px);box-shadow:0 5px 20px rgba(0,0,0,.2)}
        .btn-reset{padding:14px 20px;background:#e2e8f0;color:#4a5568;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}
        .btn-print{padding:12px 24px;background:linear-gradient(135deg,#11998e,#38ef7d);color:white;border:none;border-radius:8px;font-size:16px;font-weight:600;cursor:pointer}
        .output-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:2px solid #e2e8f0}
        .application-letter{padding:var(--margin-size,20px);border:1px solid #e2e8f0;border-radius:8px;line-height:var(--line-height,2);font-size:var(--font-size,16px)}
        .slider-control{background:#f8f9fa;padding:15px;border-radius:10px;margin-bottom:15px}
        .slider-control label{display:flex;align-items:center;justify-content:space-between;margin-bottom:10px;color:#4a5568;font-weight:500}
        .slider{width:100%;height:8px;border-radius:4px;outline:none;-webkit-appearance:none;cursor:pointer}
        .margin-slider{background:linear-gradient(to right,#e2e8f0,#11998e)}
        .lineheight-slider{background:linear-gradient(to right,#e2e8f0,#667eea)}
        .fontsize-slider{background:linear-gradient(to right,#e2e8f0,#e74c3c)}
        .slider::-webkit-slider-thumb{-webkit-appearance:none;width:24px;height:24px;border-radius:50%;cursor:pointer;box-shadow:0 2px 6px rgba(0,0,0,.2)}
        .margin-slider::-webkit-slider-thumb{background:linear-gradient(135deg,#11998e,#38ef7d)}
        .lineheight-slider::-webkit-slider-thumb{background:linear-gradient(135deg,#667eea,#764ba2)}
        .fontsize-slider::-webkit-slider-thumb{background:linear-gradient(135deg,#e74c3c,#c0392b)}
        .slider-value{padding:4px 12px;border-radius:20px;font-size:14px;font-weight:600;color:white}
        .margin-value{background:#11998e}.lineheight-value{background:#667eea}.fontsize-value{background:#e74c3c}
        .letter-date{text-align:right;margin-bottom:15px}
        .letter-subject{margin-bottom:15px}
        .letter-body{text-indent:40px;text-align:justify;margin-bottom:15px}
        .letter-signature{text-align:right;margin-top:40px}
        .placeholder{padding:40px;text-align:center;color:#718096}
        .placeholder-icon{font-size:60px;margin-bottom:20px}
        .footer{text-align:center;margin-top:30px;color:white;opacity:.8;font-size:14px}
        .hidden{display:none!important}
        .info-row{display:flex;gap:10px}
        .info-row .form-group{flex:1}
        .inst-type{display:flex;gap:15px;margin-bottom:15px;padding:15px;background:#e8eaff;border-radius:10px;border:1px solid #b3b3ff}
        .inst-type label{display:flex;align-items:center;gap:8px;cursor:pointer;padding:10px 20px;border-radius:8px;transition:all .3s;border:2px solid transparent}
        .inst-type label:hover{background:#d4d4ff}
        .inst-type input[type="radio"]{width:18px;height:18px;cursor:pointer}
        .inst-type input[type="radio"]:checked+span{font-weight:600;color:#667eea}
        .inst-type label:has(input:checked){background:#b3b3ff;border-color:#667eea}
        .saved-section{background:#e8f5e9;padding:15px;border-radius:10px;margin-top:15px;border:1px solid #4caf50}
        .saved-section h3{color:#2e7d32;font-size:14px;margin-bottom:10px}
        .save-name-input{display:flex;gap:10px;margin-bottom:10px}
        .save-name-input input{flex:1;padding:10px;border:2px solid #c8e6c9;border-radius:8px;font-size:14px}
        .btn-save{padding:10px 15px;background:linear-gradient(135deg,#4caf50,#2e7d32);color:white;border:none;border-radius:8px;font-size:14px;font-weight:600;cursor:pointer}
        .saved-list{max-height:200px;overflow-y:auto;border:1px solid #c8e6c9;border-radius:8px;margin-bottom:10px}
        .saved-item{display:flex;justify-content:space-between;align-items:center;padding:10px;border-bottom:1px solid #e8f5e9;background:white;cursor:pointer}
        .saved-item:hover{background:#f1f8e9}
        .saved-item:last-child{border-bottom:none}
        .saved-info{flex:1}
        .saved-name{font-weight:600;color:#333;font-size:14px}
        .saved-date{font-size:11px;color:#666}
        .saved-actions{display:flex;gap:5px}
        .btn-load{padding:5px 10px;background:#2196f3;color:white;border:none;border-radius:5px;font-size:11px;cursor:pointer}
        .btn-delete{padding:5px 10px;background:#f44336;color:white;border:none;border-radius:5px;font-size:11px;cursor:pointer}
        .no-saved{padding:20px;text-align:center;color:#666;font-size:13px}
        .counter{font-size:12px;color:#2e7d32;margin-bottom:10px}
        .export-import{display:flex;gap:10px}
        .btn-export{flex:1;padding:10px;background:linear-gradient(135deg,#9c27b0,#7b1fa2);color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer}
        .btn-import{flex:1;padding:10px;background:linear-gradient(135deg,#ff5722,#e64a19);color:white;border:none;border-radius:8px;font-size:13px;font-weight:600;cursor:pointer}
        .toast{position:fixed;bottom:20px;left:50%;transform:translateX(-50%);padding:12px 24px;border-radius:8px;color:white;font-weight:600;z-index:9999;animation:fadeInOut 3s ease-in-out;box-shadow:0 5px 20px rgba(0,0,0,.2)}
        .toast-success{background:linear-gradient(135deg,#27ae60,#2ecc71)}
        .toast-error{background:linear-gradient(135deg,#e74c3c,#c0392b)}
        @keyframes fadeInOut{0%{opacity:0;transform:translateX(-50%) translateY(20px)}15%{opacity:1;transform:translateX(-50%) translateY(0)}85%{opacity:1;transform:translateX(-50%) translateY(0)}100%{opacity:0;transform:translateX(-50%) translateY(-20px)}}
        @media print{body{background:white;padding:0}.form-card,.header,.footer,.no-print,.output-header{display:none!important}.output-card{box-shadow:none;border:none;max-width:100%;padding:0}.application-letter{border:none}@page{margin:10mm;size:A4}}
        @media (max-width:768px){.container{flex-direction:column}.form-card,.output-card{max-width:100%}.date-group,.info-row{flex-direction:column}.single-date{max-width:100%}.leave-duration{flex-direction:column;gap:10px}.export-import{flex-direction:column}.inst-type{flex-direction:column;gap:10px}}
    </style>
</head>
<body>
    <div class="header">
        <h1>üë®‚Äçüè´ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡¶§‡ßç‡¶∞</h1>
        <p>‡¶´‡¶∞‡ßç‡¶Æ‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶® ‡¶è‡¶¨‡¶Ç ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</p>
    </div>
    <div class="container">
        <div class="form-card">
            <h2>üìù ‡¶§‡¶•‡ßç‡¶Ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßÅ‡¶®</h2>
            <form id="leaveForm">
                <div class="form-group"><label>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶ß‡¶∞‡¶® *</label>
                    <div class="inst-type">
                        <label><input type="radio" name="instType" value="school" checked onchange="toggleInstType()"><span>üè´ ‡¶∏‡ßç‡¶ï‡ßÅ‡¶≤</span></label>
                        <label><input type="radio" name="instType" value="college" onchange="toggleInstType()"><span>üéì ‡¶ï‡¶≤‡ßá‡¶ú</span></label>
                        <label><input type="radio" name="instType" value="other" onchange="toggleInstType()"><span>üìã ‡¶Ö‡¶®‡ßç‡¶Ø‡¶æ‡¶®‡ßç‡¶Ø</span></label>
                    </div>
                </div>
                <div id="customHeadSection" class="hidden">
                    <div class="form-group"><label>‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶®‡ßá‡¶∞ ‡¶™‡¶¶‡¶¨‡ßÄ</label><input type="text" id="customHead" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶Ö‡¶ß‡ßç‡¶Ø‡¶ï‡ßç‡¶∑, ‡¶∏‡ßÅ‡¶™‡¶æ‡¶∞, ‡¶°‡¶æ‡¶á‡¶∞‡ßá‡¶ï‡ßç‡¶ü‡¶∞"></div>
                </div>
                <div class="form-group"><label>‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ *</label><input type="text" id="applicantName" placeholder="‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®" required></div>
                <div class="form-group"><label>‡¶™‡¶¶‡¶¨‡ßÄ *</label><input type="text" id="designation" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶∏‡¶π‡¶ï‡¶æ‡¶∞‡ßÄ ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï" required></div>
                <div class="form-group"><label>‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó/‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º</label><input type="text" id="department" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶ó‡¶£‡¶ø‡¶§"></div>
                <div class="form-group"><label>‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶ß‡¶∞‡¶® *</label><select id="leaveType" required>
                    <option value="‡¶¨‡ßá‡¶§‡¶®‡¶π‡ßÄ‡¶® ‡¶õ‡ßÅ‡¶ü‡¶ø">‡¶¨‡ßá‡¶§‡¶®‡¶π‡ßÄ‡¶® ‡¶õ‡ßÅ‡¶ü‡¶ø</option>
                    <option value="‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶õ‡ßÅ‡¶ü‡¶ø">‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶õ‡ßÅ‡¶ü‡¶ø</option>
                    <option value="‡¶Ö‡¶∏‡ßÅ‡¶∏‡ßç‡¶•‡¶§‡¶æ ‡¶ú‡¶®‡¶ø‡¶§ ‡¶õ‡ßÅ‡¶ü‡¶ø">‡¶Ö‡¶∏‡ßÅ‡¶∏‡ßç‡¶•‡¶§‡¶æ ‡¶ú‡¶®‡¶ø‡¶§ ‡¶õ‡ßÅ‡¶ü‡¶ø</option>
                    <option value="‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶õ‡ßÅ‡¶ü‡¶ø">‡¶¨‡¶ø‡¶∂‡ßá‡¶∑ ‡¶õ‡ßÅ‡¶ü‡¶ø</option>
                    <option value="‡¶Æ‡¶æ‡¶§‡ßÉ‡¶§‡ßç‡¶¨‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶õ‡ßÅ‡¶ü‡¶ø">‡¶Æ‡¶æ‡¶§‡ßÉ‡¶§‡ßç‡¶¨‡¶ï‡¶æ‡¶≤‡ßÄ‡¶® ‡¶õ‡ßÅ‡¶ü‡¶ø</option>
                    <option value="‡¶õ‡ßÅ‡¶ü‡¶ø">‡¶õ‡ßÅ‡¶ü‡¶ø</option>
                </select></div>
                <div class="form-group"><label>‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶Æ‡ßá‡¶Ø‡¶º‡¶æ‡¶¶ *</label>
                    <div class="leave-duration">
                        <label><input type="radio" name="leaveDuration" value="single" checked onchange="toggleDateFields()"><span>üìÖ ‡¶è‡¶ï‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶õ‡ßÅ‡¶ü‡¶ø</span></label>
                        <label><input type="radio" name="leaveDuration" value="multiple" onchange="toggleDateFields()"><span>üìÜ ‡¶è‡¶ï‡¶æ‡¶ß‡¶ø‡¶ï ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ ‡¶õ‡ßÅ‡¶ü‡¶ø</span></label>
                    </div>
                </div>
                <div id="singleDaySection"><div class="form-group single-date"><label>‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ *</label><input type="date" id="singleDate" required></div></div>
                <div id="multipleDaySection" class="hidden">
                    <div class="date-group">
                        <div class="form-group"><label>‡¶∂‡ßÅ‡¶∞‡ßÅ‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ *</label><input type="date" id="startDate"></div>
                        <div class="form-group"><label>‡¶∂‡ßá‡¶∑‡ßá‡¶∞ ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ *</label><input type="date" id="endDate"></div>
                    </div>
                    <div class="form-group"><label>‡¶Æ‡ßã‡¶ü ‡¶¶‡¶ø‡¶® *</label><input type="number" id="totalDays" placeholder="‡¶Ø‡ßá‡¶Æ‡¶®: 5" min="1"></div>
                </div>
                <div class="form-group"><label>‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£ *</label><textarea id="reason" rows="3" placeholder="‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶ï‡¶æ‡¶∞‡¶£ ‡¶¨‡¶ø‡¶∏‡ßç‡¶§‡¶æ‡¶∞‡¶ø‡¶§ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®..." required></textarea></div>
                <div class="form-group"><label>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶®‡¶æ‡¶Æ</label><input type="text" id="schoolName" value="‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º"></div>
                <div class="form-group"><label>‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶†‡¶ø‡¶ï‡¶æ‡¶®‡¶æ</label><input type="text" id="schoolAddress" value="‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ: ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£, ‡¶ú‡ßá‡¶≤‡¶æ: ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£"></div>
                <div class="btn-group">
                    <button type="submit" class="btn-primary">üìÑ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®</button>
                    <button type="button" class="btn-reset" onclick="resetForm()">üîÑ</button>
                </div>
                <div class="saved-section">
                    <h3>üìã ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®</h3>
                    <div class="counter" id="counter">‡¶∏‡¶∞‡ßç‡¶¨‡¶Æ‡ßã‡¶ü: ‡ß¶‡¶ü‡¶ø</div>
                    <div class="save-name-input">
                        <input type="text" id="saveName" placeholder="‡¶®‡¶æ‡¶Æ ‡¶¶‡¶ø‡¶® (‡¶Ø‡ßá‡¶Æ‡¶®: ‡¶∞‡¶π‡¶ø‡¶Æ ‡¶¨‡¶æ‡¶∞‡ßç‡¶∑‡¶ø‡¶ï ‡¶õ‡ßÅ‡¶ü‡¶ø)">
                        <button type="button" class="btn-save" onclick="saveApplication()">üíæ ‡¶∏‡ßá‡¶≠</button>
                    </div>
                    <div class="saved-list" id="savedList"><div class="no-saved">‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶®‡ßá‡¶á</div></div>
                    <div class="export-import">
                        <button type="button" class="btn-export" onclick="exportJSON()">üì§ JSON ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶°</button>
                        <button type="button" class="btn-import" onclick="document.getElementById('importFile').click()">üì• JSON ‡¶Ü‡¶™‡¶≤‡ßã‡¶°</button>
                        <input type="file" id="importFile" accept=".json" style="display:none" onchange="importJSON(event)">
                    </div>
                </div>
            </form>
        </div>
        <div class="output-card">
            <div id="placeholder" class="placeholder"><div class="placeholder-icon">üìÑ</div><h3>‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</h3><p>‡¶´‡¶∞‡ßç‡¶Æ‡¶ü‡¶ø ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶ï‡¶∞‡ßá "‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶§‡ßà‡¶∞‡¶ø ‡¶ï‡¶∞‡ßÅ‡¶®" ‡¶¨‡¶æ‡¶ü‡¶®‡ßá ‡¶ï‡ßç‡¶≤‡¶ø‡¶ï ‡¶ï‡¶∞‡ßÅ‡¶®</p></div>
            <div id="output" style="display:none">
                <div class="output-header no-print"><h2>üìã ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡¶§‡ßç‡¶∞ ‡¶™‡ßç‡¶∞‡¶ø‡¶≠‡¶ø‡¶â</h2><button class="btn-print" onclick="window.print()">üñ®Ô∏è ‡¶™‡ßç‡¶∞‡¶ø‡¶®‡ßç‡¶ü ‡¶ï‡¶∞‡ßÅ‡¶®</button></div>
                <div class="slider-control no-print"><label><span>üìè ‡¶Æ‡¶æ‡¶∞‡ßç‡¶ú‡¶ø‡¶®:</span><span class="slider-value margin-value" id="marginValue">20px</span></label><input type="range" class="slider margin-slider" id="marginSlider" min="5" max="60" value="20" oninput="updateMargin(this.value)"></div>
                <div class="slider-control no-print"><label><span>üìù ‡¶≤‡¶æ‡¶á‡¶® ‡¶π‡¶æ‡¶á‡¶ü:</span><span class="slider-value lineheight-value" id="lineHeightValue">2.0</span></label><input type="range" class="slider lineheight-slider" id="lineHeightSlider" min="1.2" max="3" step="0.1" value="2" oninput="updateLineHeight(this.value)"></div>
                <div class="slider-control no-print"><label><span>üî§ ‡¶´‡¶®‡ßç‡¶ü ‡¶∏‡¶æ‡¶á‡¶ú:</span><span class="slider-value fontsize-value" id="fontSizeValue">16px</span></label><input type="range" class="slider fontsize-slider" id="fontSizeSlider" min="10" max="24" value="16" oninput="updateFontSize(this.value)"></div>
                <div class="application-letter" id="applicationLetter"></div>
            </div>
        </div>
    </div>
    <div class="footer">¬© 2024 ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï ‡¶õ‡ßÅ‡¶ü‡¶ø‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶™‡¶§‡ßç‡¶∞ ‡¶ú‡ßá‡¶®‡¶æ‡¶∞‡ßá‡¶ü‡¶∞</div>
    <script>
        function toBengaliNumber(n){var d=['‡ß¶','‡ßß','‡ß®','‡ß©','‡ß™','‡ß´','‡ß¨','‡ß≠','‡ßÆ','‡ßØ'];return String(n).replace(/[0-9]/g,function(s){return d[parseInt(s)]})}
        function showToast(m,t){var e=document.createElement('div');e.className='toast toast-'+t;e.textContent=m;document.body.appendChild(e);setTimeout(function(){e.remove()},3000)}
        function toggleInstType(){var t=document.querySelector('input[name="instType"]:checked').value;if(t==='other'){document.getElementById('customHeadSection').classList.remove('hidden')}else{document.getElementById('customHeadSection').classList.add('hidden')}}
        function getHeadTitle(){var t=document.querySelector('input[name="instType"]:checked').value;if(t==='school')return '‡¶™‡ßç‡¶∞‡¶ß‡¶æ‡¶® ‡¶∂‡¶ø‡¶ï‡ßç‡¶∑‡¶ï';if(t==='college')return '‡¶Ö‡¶ß‡ßç‡¶Ø‡¶ï‡ßç‡¶∑';return document.getElementById('customHead').value||'‡¶Ö‡¶ß‡ßç‡¶Ø‡¶ï‡ßç‡¶∑'}
        function toggleDateFields(){var i=document.querySelector('input[name="leaveDuration"]:checked').value==='single';if(i){document.getElementById('singleDaySection').classList.remove('hidden');document.getElementById('multipleDaySection').classList.add('hidden')}else{document.getElementById('singleDaySection').classList.add('hidden');document.getElementById('multipleDaySection').classList.remove('hidden')}}
        function getBengaliDate(){return new Date().toLocaleDateString('bn-BD',{year:'numeric',month:'long',day:'numeric'})}
        function formatDate(d){if(!d)return'';var t=new Date(d);return toBengaliNumber(t.getDate())+'/'+toBengaliNumber(t.getMonth()+1)+'/'+toBengaliNumber(t.getFullYear())}
        function getFormData(){return{instType:document.querySelector('input[name="instType"]:checked').value,customHead:document.getElementById('customHead').value,applicantName:document.getElementById('applicantName').value,designation:document.getElementById('designation').value,department:document.getElementById('department').value,leaveType:document.getElementById('leaveType').value,leaveDuration:document.querySelector('input[name="leaveDuration"]:checked').value,singleDate:document.getElementById('singleDate').value,startDate:document.getElementById('startDate').value,endDate:document.getElementById('endDate').value,totalDays:document.getElementById('totalDays').value,reason:document.getElementById('reason').value,schoolName:document.getElementById('schoolName').value,schoolAddress:document.getElementById('schoolAddress').value}}
        function loadFormData(d){if(d.instType){document.querySelector('input[name="instType"][value="'+d.instType+'"]').checked=true;toggleInstType()}document.getElementById('customHead').value=d.customHead||'';document.getElementById('applicantName').value=d.applicantName||'';document.getElementById('designation').value=d.designation||'';document.getElementById('department').value=d.department||'';document.getElementById('leaveType').value=d.leaveType||'‡¶¨‡ßá‡¶§‡¶®‡¶π‡ßÄ‡¶® ‡¶õ‡ßÅ‡¶ü‡¶ø';document.getElementById('singleDate').value=d.singleDate||'';document.getElementById('startDate').value=d.startDate||'';document.getElementById('endDate').value=d.endDate||'';document.getElementById('totalDays').value=d.totalDays||'';document.getElementById('reason').value=d.reason||'';document.getElementById('schoolName').value=d.schoolName||'‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º';document.getElementById('schoolAddress').value=d.schoolAddress||'‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ: ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£, ‡¶ú‡ßá‡¶≤‡¶æ: ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£';if(d.leaveDuration==='multiple'){document.querySelector('input[name="leaveDuration"][value="multiple"]').checked=true}toggleDateFields()}
        function saveApplication(){var n=document.getElementById('saveName').value.trim();var s=document.getElementById('applicantName').value.trim();if(!n)n=s||'‡¶Ü‡¶¨‡ßá‡¶¶‡¶®';if(!s){showToast('‚ö†Ô∏è ‡¶™‡ßç‡¶∞‡¶•‡¶Æ‡ßá ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶ï‡¶æ‡¶∞‡ßÄ‡¶∞ ‡¶®‡¶æ‡¶Æ ‡¶≤‡¶ø‡¶ñ‡ßÅ‡¶®!','error');return}var d=getFormData();d.saveName=n;d.id=Date.now();d.savedDate=new Date().toLocaleString('bn-BD');var a=JSON.parse(localStorage.getItem('teacherLeaveApps')||'[]');a.unshift(d);localStorage.setItem('teacherLeaveApps',JSON.stringify(a));document.getElementById('saveName').value='';renderSavedList();showToast('‚úÖ "'+n+'" ‡¶∏‡ßá‡¶≠ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!','success')}
        function loadApplication(id){var a=JSON.parse(localStorage.getItem('teacherLeaveApps')||'[]');var d=a.find(function(x){return x.id===id});if(d){loadFormData(d);showToast('‚úÖ "'+d.saveName+'" ‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!','success')}}
        function deleteApplication(id){if(!confirm('‡¶Ü‡¶™‡¶®‡¶ø ‡¶ï‡¶ø ‡¶è‡¶á ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡¶ü‡¶ø ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶§‡ßá ‡¶ö‡¶æ‡¶®?'))return;var a=JSON.parse(localStorage.getItem('teacherLeaveApps')||'[]');a=a.filter(function(x){return x.id!==id});localStorage.setItem('teacherLeaveApps',JSON.stringify(a));renderSavedList();showToast('üóëÔ∏è ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶Æ‡ßÅ‡¶õ‡ßá ‡¶´‡ßá‡¶≤‡¶æ ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!','success')}
        function renderSavedList(){var a=JSON.parse(localStorage.getItem('teacherLeaveApps')||'[]');var l=document.getElementById('savedList');document.getElementById('counter').textContent='‡¶∏‡¶∞‡ßç‡¶¨‡¶Æ‡ßã‡¶ü: '+toBengaliNumber(a.length)+'‡¶ü‡¶ø';if(a.length===0){l.innerHTML='<div class="no-saved">‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶®‡ßá‡¶á</div>';return}l.innerHTML=a.map(function(x,i){return'<div class="saved-item"><div class="saved-info"><div class="saved-name">'+(i+1)+'. '+x.saveName+'</div><div class="saved-date">'+x.savedDate+' | '+x.leaveType+'</div></div><div class="saved-actions"><button class="btn-load" onclick="loadApplication('+x.id+')">‡¶≤‡ßã‡¶°</button><button class="btn-delete" onclick="deleteApplication('+x.id+')">‚úï</button></div></div>'}).join('')}
        function exportJSON(){var a=JSON.parse(localStorage.getItem('teacherLeaveApps')||'[]');if(a.length===0){showToast('‚ö†Ô∏è ‡¶ï‡ßã‡¶®‡ßã ‡¶∏‡ßá‡¶≠ ‡¶ï‡¶∞‡¶æ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶®‡ßá‡¶á!','error');return}var b=new Blob([JSON.stringify(a,null,2)],{type:'application/json'});var u=URL.createObjectURL(b);var l=document.createElement('a');l.href=u;l.download='teacher_leave_apps_'+new Date().toISOString().slice(0,10)+'.json';document.body.appendChild(l);l.click();document.body.removeChild(l);showToast('üì§ JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶°‡¶æ‡¶â‡¶®‡¶≤‡ßã‡¶° ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!','success')}
        function importJSON(e){var f=e.target.files[0];if(!f)return;var r=new FileReader();r.onload=function(x){try{var d=JSON.parse(x.target.result);if(!Array.isArray(d)){showToast('‚ùå ‡¶Ö‡¶¨‡ßà‡¶ß JSON ‡¶´‡¶æ‡¶á‡¶≤!','error');return}var a=JSON.parse(localStorage.getItem('teacherLeaveApps')||'[]');d.forEach(function(x){x.id=Date.now()+Math.random();x.savedDate=new Date().toLocaleString('bn-BD')});a=d.concat(a);localStorage.setItem('teacherLeaveApps',JSON.stringify(a));renderSavedList();showToast('‚úÖ '+toBengaliNumber(d.length)+'‡¶ü‡¶ø ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶á‡¶Æ‡ßç‡¶™‡ßã‡¶∞‡ßç‡¶ü ‡¶π‡¶Ø‡¶º‡ßá‡¶õ‡ßá!','success')}catch(err){showToast('‚ùå JSON ‡¶´‡¶æ‡¶á‡¶≤ ‡¶™‡¶°‡¶º‡¶§‡ßá ‡¶∏‡¶Æ‡¶∏‡ßç‡¶Ø‡¶æ!','error')}};r.readAsText(f);e.target.value=''}
        document.getElementById('leaveForm').addEventListener('submit',function(e){e.preventDefault();var h=getHeadTitle();var s=document.querySelector('input[name="leaveDuration"]:checked').value==='single';var d={applicantName:document.getElementById('applicantName').value,designation:document.getElementById('designation').value,department:document.getElementById('department').value,leaveType:document.getElementById('leaveType').value,isSingleDay:s,singleDate:formatDate(document.getElementById('singleDate').value),startDate:formatDate(document.getElementById('startDate').value),endDate:formatDate(document.getElementById('endDate').value),totalDays:document.getElementById('totalDays').value,reason:document.getElementById('reason').value,schoolName:document.getElementById('schoolName').value,schoolAddress:document.getElementById('schoolAddress').value,applicationDate:getBengaliDate()};var t=toBengaliNumber(d.totalDays);var dept=d.department?' ('+d.department+' ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó)':'';var dur=d.isSingleDay?'<stron>'+d.singleDate+'</stron> ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ‡ßá ‡¶è‡¶ï‡¶¶‡¶ø‡¶®‡ßá‡¶∞ <stron>'+d.leaveType+'</stron> ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§':'<stron>'+d.startDate+'</stron> ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶π‡¶§‡ßá <stron>'+d.endDate+'</stron> ‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ ‡¶™‡¶∞‡ßç‡¶Ø‡¶®‡ßç‡¶§ ‡¶Æ‡ßã‡¶ü <stron>'+t+'</stron> ‡¶¶‡¶ø‡¶®‡ßá‡¶∞ <stron>'+d.leaveType+'</stron> ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡•§';document.getElementById('applicationLetter').innerHTML='<div class="letter-date">‡¶§‡¶æ‡¶∞‡¶ø‡¶ñ: '+d.applicationDate+'</div><div style="margin-bottom:15px">‡¶¨‡¶∞‡¶æ‡¶¨‡¶∞,<br><stron>'+h+' </stron><br>'+d.schoolName+'<br>'+d.schoolAddress+'</div><div class="letter-subject">‡¶¨‡¶ø‡¶∑‡¶Ø‡¶º: <stron>'+d.leaveType+'</stron>‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶¨‡ßá‡¶¶‡¶®‡•§</div><div style="margin-bottom:15px">,</div><div class="letter-body">‡¶¨‡¶ø‡¶®‡ßÄ‡¶§ ‡¶®‡¶ø‡¶¨‡ßá‡¶¶‡¶® ‡¶è‡¶á ‡¶Ø‡ßá, ‡¶Ü‡¶Æ‡¶ø <stron>'+d.applicantName+'</stron>, ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶™‡ßç‡¶∞‡¶§‡¶ø‡¶∑‡ßç‡¶†‡¶æ‡¶®‡ßá‡¶∞ ‡¶è‡¶ï‡¶ú‡¶® <stron>'+d.designation+'</stron>'+dept+' ‡¶π‡¶ø‡¶∏‡ßá‡¶¨‡ßá ‡¶ï‡¶∞‡ßç‡¶Æ‡¶∞‡¶§ ‡¶Ü‡¶õ‡¶ø‡•§ ‡¶Ü‡¶Æ‡¶æ‡¶∞ <stron>'+d.reason+'</stron> ‡¶ï‡¶æ‡¶∞‡¶£‡ßá '+dur+'</div><div class="letter-body">‡¶è‡¶á ‡¶Æ‡¶∞‡ßç‡¶Æ‡ßá ‡¶Ü‡¶Æ‡¶ø ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶®‡¶ø‡¶ï‡¶ü ‡¶â‡¶ï‡ßç‡¶§ <stron>'+d.leaveType+'</stron>‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶ï‡¶∞‡¶õ‡¶ø‡•§ ‡¶Æ‡¶π‡ßã‡¶¶‡¶Ø‡¶º, ‡¶Ü‡¶Æ‡¶æ‡¶∞ ‡¶Ü‡¶¨‡ßá‡¶¶‡¶® ‡¶Ö‡¶®‡ßÅ‡¶ï‡ßÇ‡¶≤‡ßá ‡¶¨‡¶ø‡¶¨‡ßá‡¶ö‡¶®‡¶æ ‡¶ï‡¶∞‡ßá ‡¶™‡ßç‡¶∞‡¶Ø‡¶º‡ßã‡¶ú‡¶®‡ßÄ‡¶Ø‡¶º ‡¶¨‡ßç‡¶Ø‡¶¨‡¶∏‡ßç‡¶•‡¶æ ‡¶ó‡ßç‡¶∞‡¶π‡¶£‡ßá‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø ‡¶¨‡¶ø‡¶®‡ßÄ‡¶§ ‡¶Ö‡¶®‡ßÅ‡¶∞‡ßã‡¶ß ‡¶ï‡¶∞‡¶õ‡¶ø‡•§</div><div class="letter-body" style="margin-bottom:30px">‡¶ß‡¶®‡ßç‡¶Ø‡¶¨‡¶æ‡¶¶‡¶æ‡¶®‡ßç‡¶§‡ßá,</div><div class="letter-signature"><div>‡¶¨‡¶ø‡¶®‡ßÄ‡¶§,</div><div style="margin-top:40px"><stron>( '+d.applicantName+' )</stron></div><div>'+d.designation+'</div>'+(d.department?'<div>'+d.department+' ‡¶¨‡¶ø‡¶≠‡¶æ‡¶ó</div>':'')+'</div>';document.getElementById('placeholder').style.display='none';document.getElementById('output').style.display='block'});
        function resetForm(){document.getElementById('leaveForm').reset();document.getElementById('schoolName').value='‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ ‡¶â‡¶ö‡ßç‡¶ö ‡¶¨‡¶ø‡¶¶‡ßç‡¶Ø‡¶æ‡¶≤‡¶Ø‡¶º';document.getElementById('schoolAddress').value='‡¶ó‡ßç‡¶∞‡¶æ‡¶Æ: ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£, ‡¶ú‡ßá‡¶≤‡¶æ: ‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£';document.getElementById('placeholder').style.display='block';document.getElementById('output').style.display='none';toggleDateFields();toggleInstType()}
        function updateMargin(v){document.documentElement.style.setProperty('--margin-size',v+'px');document.getElementById('marginValue').textContent=v+'px'}
        function updateLineHeight(v){document.documentElement.style.setProperty('--line-height',v);document.getElementById('lineHeightValue').textContent=parseFloat(v).toFixed(1)}
        function updateFontSize(v){document.documentElement.style.setProperty('--font-size',v+'px');document.getElementById('fontSizeValue').textContent=v+'px'}
        toggleDateFields();toggleInstType();updateMargin(20);updateLineHeight(2);updateFontSize(16);renderSavedList();
    </script>
</body>
</html>
